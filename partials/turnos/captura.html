<div class="page-header">
    <h1>Captura de Turno</h1>
</div>
<form role="form" class="form-horizontal">
    <div class="form-group">
        <label for="fecha-captura" class="col-xs-1">Fecha de Captura:</label>

        <div class="col-xs-2">
            <p id="fecha-captura" class="form-control-static">{{today | date : "dd-MM-yyyy"}}</p>
        </div>

        <label for="fecha-recepcion" class="col-xs-1">Fecha de Recepción:</label>

        <div class="col-xs-2">

            <input id="fecha-recepcion" type="date" class="form-control" ng-model="turno.fechaRecepcion">
        </div>
        <label for="prioridad" class="col-xs-1">Prioridad:</label>

        <div class="col-xs-2">
            <select id="prioridad" ng-model="turno.prioridad" class="form-control"
                    ng-options="priority.code as priority.name for priority in priorities">
            </select>
        </div>

        <label for="tipo-tramite" class="col-xs-1">Tipo de Tramite:</label>

        <div class="col-xs-2">
            <select id="tipo-tramite" ng-model="turno.tipoTramite" class="form-control"
                    ng-options="type.code as type.name for type in processTypes">
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="turno-dfi" class="col-xs-1">Turno DFI:</label>

        <div class="col-xs-2">
            <p id="turno-dfi" class="form-control-static">{{turn}}</p>
        </div>

        <label for="turno-dgesu" class="col-xs-1">Turno DGESU:</label>

        <div class="col-xs-2">

            <input id="turno-dgesu" type="text" class="form-control" ng-model="turno.turnoDGESU">
        </div>
        <label for="no-oficio" class="col-xs-1">No. de Oficio:</label>

        <div class="col-xs-2">
            <input id="no-oficio" type="text" class="form-control" ng-model="turno.numeroOficio">
        </div>

        <label for="fecha-oficio" class="col-xs-1">Fecha de oficio:</label>

        <div class="col-xs-2">
            <input id="fecha-oficio" type="date" class="form-control" ng-model="turno.fechaOficio">
        </div>
    </div>
    <div class="form-group">
        <label class="col-xs-1">Tipo de Remitente:</label>
        <label class="radio-inline" ng-repeat="senderType in senderTypes">
            <input type="radio" name="remitente" ng-model="turno.tipoRemitente" id="remitente{{senderType.code}}"
                   value="{{senderType.code}}">
            {{senderType.name}}
        </label>
    </div>
    <div class="form-group">
        <label for="institucion" class="col-xs-1">Institución:</label>

        <div class="col-xs-8">
            <select id="institucion" ng-model="turno.institucion" class="form-control"
                    ng-options="institution.code as institution.name for institution in institutions">
            </select>
        </div>

        <label for="clave-911" class="col-xs-1">Clave 911:</label>

        <div class="col-xs-2">

            <p id="clave-911" class="form-control-static" ng-if="turno.institucion">
                {{getCode911(turno.institucion)}}</p>
        </div>
    </div>
    <div class="form-group">
        <label class="col-xs-1">Remitente</label>
        <label for="cargo" class="col-xs-1">Cargo:</label>

        <div class="col-xs-2">
            <select id="cargo" ng-model="turno.cargo" class="form-control"
                    ng-options="position.code as position.name for position in positions">
            </select>
        </div>

        <label for="nombre" class="col-xs-1">Nombre:</label>

        <div class="col-xs-7">

            <select id="nombre" ng-model="turno.nombre" class="form-control"
                    ng-options="person.code as (person.title + ' ' + person.name + ' ' + person.lastName + ' ' + person.secondLastName) for person in people">
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="asunto" class="col-xs-2">Asunto:</label>

        <div class="col-xs-10">
            <textarea id="asunto" class="form-control" rows="3" ng-model="turno.asunto"></textarea>
        </div>
    </div>
    <div class="form-group">
        <label for="observaciones" class="col-xs-2">Observaciones:</label>

        <div class="col-xs-10">
            <textarea id="observaciones" class="form-control" rows="3" ng-model="turno.observaciones"></textarea>
        </div>
    </div>
    <div class="form-group">
        <label class="col-xs-1">Area que atiende:</label>
        <label class="checkbox-inline" ng-repeat="area in areas">
            <input type="checkbox" name="selectedAreas[]" ng-checked="checkedArea(area.code)"
                   ng-click="toggleArea(area.code)" value="{{area.code}}">
            {{area.name}}
        </label>
    </div>
    <div class="form-group">
        <div class="col-xs-12">
            <div class="row">
                <label class="col-xs-2">Subir documentos</label>
                <button type="button" class="btn btn-xs btn-primary" ng-click="addFile()">
                    <span class="glyphicon glyphicon-plus"> </span>
                </button>
            </div>
        </div>
        <div class="row" ng-repeat="file in files">
            <div class="col-xs-offset-1 col-xs-4">
                <input type="file" id="archivo{{$index}}">
            </div>
            <div class="col-xs-1">
                <button class="btn btn-danger btn-xs" type="button" ng-click="deleteFile(file)">
                    <span class="glyphicon glyphicon-remove"> </span>
                </button>
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-default">Registrar Turno</button>
</form>