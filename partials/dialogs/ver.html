<div class="modal-header dialog-header-notify">
    <h4 class="modal-title"><span class="glyphicon glyphicon-search"></span> Ver Turno {{turn.anio}}-{{turn.id}}
    </h4>
</div>
<div class="modal-body container-fluid">
    <div class="row">
        <div class="col-xs-12"><h2>Datos de Captura:</h2></div>
    </div>
    <div class="row">
        <div class="col-xs-6"><strong>Usuario que captura:</strong> {{turn.usuarioAlta.nombre}}</div>
        <div class="col-xs-6"><strong>Fecha de captura:</strong> {{turn.fechaAlta | date:"dd-MM-yyyy HH:mm"}}</div>
    </div>
    <div class="row">
        <div class="col-xs-6"><strong>Usuario última modificación:</strong> {{turn.usuarioModificacion.nombre}}</div>
        <div class="col-xs-6"><strong>Fecha de última modificación:</strong> {{turn.fechaModificacion |
            date:"dd-MM-yyyy HH:mm"}}
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12"><h2>Datos de Turno:</h2></div>
    </div>
    <div class="row">
        <div class="col-xs-4"><strong>Turno DGESU:</strong> {{turn.turnoDGESU}}</div>
        <div class="col-xs-4"><strong>No. Oficio:</strong> {{turn.numeroOficio}}</div>
        <div class="col-xs-4"><strong>Fecha de Oficio:</strong> {{turn.fechaOficio | date:"dd-MM-yyyy"}}</div>
    </div>
    <div class="row">
        <div class="col-xs-4"><strong>Fecha de Recepción:</strong> {{turn.fechaRecepcion | date:"dd-MM-yyyy"}}</div>
        <div class="col-xs-4"><strong>Fecha límite:</strong> {{turn.fechaLimite | date:"dd-MM-yyyy"}}</div>
    </div>
    <div class="row">
        <div class="col-xs-4"><strong>Prioridad:</strong> {{turn.prioridad.nombre}}</div>
        <div class="col-xs-4"><strong>Tipo de trámite:</strong> {{turn.tipoTramite.nombre}}</div>
        <div class="col-xs-4"><strong>Estatus:</strong> {{turn.estatus.descripcion}}</div>
    </div>
    <div class="row">
        <div class="col-xs-12"><h3>Remitente</h3></div>
    </div>
    <div class="row" ng-show="turn.remitente.idTipoRemitente == 1">
        <div class="col-xs-12"><strong>Institución:</strong> {{institution.nombre}}</div>
    </div>
    <div class="row" ng-show="turn.remitente.idTipoRemitente == 1">
        <div class="col-xs-4"><strong>Cargo:</strong> {{person.cargoIes.nombre}}</div>
        <div class="col-xs-8"><strong>Nombre:</strong> {{person.tituloAcademico}} {{person.nombre}} {{person.paterno}}
            {{person.materno}}
        </div>
    </div>
    <div class="row" ng-show="turn.remitente.idTipoRemitente == 2">
        <div class="col-xs-12"><strong>Organismo:</strong> {{organization.nombre}}</div>
    </div>
    <div class="row" ng-show="turn.remitente.idTipoRemitente == 2">
        <div class="col-xs-4"><strong>Cargo:</strong> {{turn.remitente.cargo}}</div>
        <div class="col-xs-8"><strong>Nombre:</strong> {{turn.remitente.nombre}}</div>
    </div>
    <div class="row" ng-show="turn.remitente.idTipoRemitente == 3">
        <div class="col-xs-12"><strong>Departamento:</strong> {{area.nombre}}</div>
    </div>
    <div class="row" ng-show="turn.remitente.idTipoRemitente == 3">
        <div class="col-xs-12"><strong>Nombre:</strong> {{person.tituloAcademico}} {{person.nombre}} {{person.paterno}}
            {{person.materno}}
        </div>
    </div>
    <div class="row" ng-show="turn.remitente.idTipoRemitente == 4">
        <div class="col-xs-12"><strong>Institución:</strong> {{turn.remitente.institucion}}</div>
    </div>
    <div class="row" ng-show="turn.remitente.idTipoRemitente == 4">
        <div class="col-xs-4"><strong>Cargo:</strong> {{turn.remitente.cargo}}</div>
        <div class="col-xs-8"><strong>Nombre:</strong> {{turn.remitente.nombre}}</div>
    </div>
    <div class="row">
        <div class="col-xs-12"><h3>Asunto</h3></div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <div class="well">{{turn.asunto}}</div>
        </div>
    </div>
    <div class="row" ng-show="turn.atencion">
        <div class="col-xs-12"><h2>Atención:</h2></div>
    </div>
    <div class="row" ng-show="turn.atencion">
        <div class="col-xs-4"><strong>Fecha de atención:</strong> {{turn.atencion.fechaAtencion | date:"dd-MM-yyyy"}}</div>
        <div class="col-xs-4"><strong>Folio de atención:</strong> {{turn.atencion.folio}}</div>
    </div>
    <div class="row" ng-show="turn.atencion">
        <div class="col-xs-12"><strong>Tema:</strong> {{turn.atencion.tema}}</div>
    </div>
    <div class="row" ng-show="turn.observaciones.length > 0">
        <div class="col-xs-12"><h2>Observaciones:</h2></div>
    </div>
    <div class="row" ng-show="turn.observaciones.length > 0">
        <div class="col-xs-12">
            <table class="table table-condensed">
                <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Usuario</th>
                    <th>Observación</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="comment in turn.observaciones">
                    <td>{{comment.fechaAlta | date:"dd-MM-yyyy HH:mm"}}</td>
                    <td>{{comment.usuario.nombre}}</td>
                    <td>{{comment.observacion}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row" ng-show="turn.asignacion.length > 0">
        <div class="col-xs-12"><h2>Asignaciones:</h2></div>
    </div>
    <div class="row" ng-show="turn.asignacion.length > 0">
        <div class="col-xs-12">
            <table class="table table-condensed">
                <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Área</th>
                    <th>Empleado</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="assignation in turn.asignacion">
                    <td>{{assignation.fechaCreacion | date:"dd-MM-yyyy HH:mm"}}</td>
                    <td>{{assignation.areaOperativa.nombre}} ({{assignation.areaOperativa.abreviatura}})</td>
                    <td>{{assignation.empleado.tituloAcademico}} {{assignation.empleado.nombre}}
                        {{assignation.empleado.paterno}} {{assignation.empleado.materno}}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-danger" type="button" ng-click="ok()">Cerrar</button>
    <a ng-href="{{baseUrl}}/reporte/turno/pdf/{{turn.anio}}/{{turn.id}}" id="export" target="_blank">
        <button class="btn btn-success">
            Exportar <span class="glyphicon glyphicon-file"></span>
        </button>
    </a>
</div>